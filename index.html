<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/assets/images/favicon.png" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/assets/css/bootstrap.min.css"
    />
    <link rel="stylesheet" type="text/css" href="/venobox/venobox.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/assets/css/plugin_theme_css.css"
    />
    <link rel="stylesheet" type="text/css" href="/assets/css/responsive.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/flaticon.css" />

    <!-- modernizr js -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"> -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="/assets/js/vendor/modernizr-2.8.3.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script src="/assets/js/vendor/jquery-3.5.1.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>
    <script src="/assets/js/isotope.pkgd.min.js"></script>
    <script src="/assets/js/owl.carousel.min.js"></script>
    <script src="/assets/js/jquery.nivo.slider.pack.js"></script>
    <script src="/assets/js/slick.min.js"></script>
    <script src="/assets/js/imagesloaded.pkgd.min.js"></script>
    <script src="venobox/venobox.min.js"></script>
    <script src="/assets/js/jquery.appear.js"></script>
    <script src="/assets/js/jquery.knob.js"></script>
    <script src="/assets/js/theme-pluginjs.js"></script>
    <script src="/assets/js/jquery.meanmenu.js"></script>
    <script src="/assets/js/ajax-mail.js"></script>
    <script src="/assets/js/theme.js"></script>

    <script>
      let currentStep = 1;
      function nextStep() {
        document.getElementById("step1").style.display = "none";
        document.getElementById("step2").style.display = "block";
        currentStep = 2;
      }

      function prevStep() {
        document.getElementById("step1").style.display = "block";
        document.getElementById("step2").style.display = "none";
        currentStep = 1;
      }

      document
        .getElementById("multiStepForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const captchaToken = grecaptcha.getResponse();
          if (!captchaToken) {
            document.getElementById("errorCaptcha").textContent =
              "Captcha is required";
            return;
          }

          const formData = new FormData();
          formData.append("name", document.getElementById("name").value);
          formData.append("email", document.getElementById("email").value);
          formData.append("phone", document.getElementById("phone").value);
          formData.append("city", document.getElementById("city").value);
          formData.append("state", document.getElementById("state").value);
          formData.append(
            "refund_amount",
            document.getElementById("refundAmount").value
          );
          formData.append(
            "complaint_againest",
            document.getElementById("complaintAgainst").value
          );
          formData.append(
            "note",
            document.getElementById("complaintDescription").value
          );
          formData.append("captcha_token", captchaToken);
          formData.append("domain", "legal");

          try {
            document.getElementById("submitButton").innerHTML =
              '<i class="fas fa-spinner fa-spin"></i> Submitting...';

            const response = await axios.post(
              "https://master.lexbridgelegalservices.com/enquiry-api/v2/store-enq",
              formData,
              {
                headers: {
                  "Content-Type": "multipart/form-data",
                },
              }
            );

            if (response.data.status) {
              alert("Success: " + response.data.message);
              window.location.reload();
            }
          } catch (error) {
            console.error(
              "Error:",
              error.response?.data?.message || error.message
            );
            alert("Error: " + (error.response?.data?.message || error.message));
          }
        });
    </script>
  </body>
</html>
